% neurips_2026.sty
% NeurIPS 2026 style file (based on neurips_2024 template)
% Proxy style file — update with official release when available.

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{neurips_2026}[2026/01/01 NeurIPS 2026 submission style]

% ── Options ────────────────────────────────────────────────
\newif\if@neuripsfinal\@neuripsfinalfalse
\newif\if@neuripspreprint\@neuripspreprintfalse
\newif\if@neuripsnonatbib\@neuripsnonatbibfalse

\DeclareOption{final}{\@neuripsfinaltrue}
\DeclareOption{preprint}{\@neuripspreprinttrue}
\DeclareOption{nonatbib}{\@neuripsnonatbibtrue}
\ProcessOptions\relax

% ── Page geometry ──────────────────────────────────────────
\RequirePackage[
  textwidth=5.5in,
  textheight=9in,
  top=1in,
  left=1.5in,
  footskip=0.5in
]{geometry}

% ── Fonts ──────────────────────────────────────────────────
\RequirePackage{times}
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}

% ── Natbib ─────────────────────────────────────────────────
\if@neuripsnonatbib\else
  \RequirePackage[numbers,sort&compress]{natbib}
\fi

% ── Line spacing ───────────────────────────────────────────
\renewcommand{\baselinestretch}{1.0}

% ── Paragraph formatting ──────────────────────────────────
\setlength{\parindent}{0pt}
\setlength{\parskip}{5.5pt plus 1pt minus 1pt}

% ── Section formatting ────────────────────────────────────
% Use basic LaTeX commands instead of titlesec for maximum compatibility
\renewcommand{\section}{\@startsection{section}{1}{\z@}%
  {-12pt \@plus -2pt \@minus -2pt}%
  {4pt \@plus 1pt \@minus 1pt}%
  {\large\bfseries}}
\renewcommand{\subsection}{\@startsection{subsection}{2}{\z@}%
  {-8pt \@plus -2pt \@minus -2pt}%
  {2pt \@plus 1pt \@minus 1pt}%
  {\normalsize\bfseries}}
\renewcommand{\subsubsection}{\@startsection{subsubsection}{3}{\z@}%
  {-6pt \@plus -2pt \@minus -2pt}%
  {2pt \@plus 1pt \@minus 1pt}%
  {\normalsize\itshape}}

% ── Title / Author ────────────────────────────────────────
\def\@maketitle{%
  \vbox to 0pt{}%
  \vskip -40pt
  \begin{center}%
    {\LARGE\bfseries \@title \par}%
    \vskip 0.6em
    {\large
      \lineskip .5em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
    \vskip 0.6em
    {\large \@date}%
  \end{center}%
  \par
  \vskip 1em
}

% ── Abstract ──────────────────────────────────────────────
\renewenvironment{abstract}{%
  \centerline{\large\bfseries Abstract}%
  \vspace{0.5ex}%
  \begin{quote}\small
}{%
  \par\end{quote}\vskip 1ex
}

% ── Footnotes ─────────────────────────────────────────────
\renewcommand{\footnoterule}{%
  \kern -3pt
  \hrule width 2in height 0.4pt
  \kern 2.6pt
}

% ── Headers / footers ────────────────────────────────────
\RequirePackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\if@neuripsfinal
  \fancyfoot[C]{\thepage}
\else\if@neuripspreprint
  \fancyhead[C]{Preprint. Under review.}
  \fancyfoot[C]{\thepage}
\else
  \fancyhead[C]{Submitted to NeurIPS 2026}
  \fancyfoot[C]{\thepage}
\fi\fi
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% ── Float parameters ─────────────────────────────────────
\renewcommand{\topfraction}{0.9}
\renewcommand{\bottomfraction}{0.8}
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}
\renewcommand{\textfraction}{0.07}
\renewcommand{\floatpagefraction}{0.7}

\endinput
